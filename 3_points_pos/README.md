
# Утилита проверки точки на принадлежность прямой

Небольшая функция для проверки, лежит ли заданная точка на прямой, проходящей через две другие точки в трёхмерном пространстве.

---

## Функция `check_on_line`

```python
def check_on_line(
    point1: tuple[float, float, float],
    point2: tuple[float, float, float],
    point3: tuple[float, float, float],
    accuracy: float = 90.0
) -> bool
````

### Описание

* Строятся два вектора:

  1. от точки `point2` к `point1`
  2. от точки `point2` к `point3`
* Вычисляется угол между ними по формуле скалярного (dot) произведения

  $$
    \cos\alpha = \frac{\mathbf{v}_{21}\cdot \mathbf{v}_{23}}{\|\mathbf{v}_{21}\|\;\|\mathbf{v}_{23}\|}
  $$
* Перевод в градусы: $\alpha = \arccos(\cos\alpha)\times\frac{180}{\pi}$
* Если $\alpha$ близок к $180^\circ$ в пределах $\pm\mathtt{accuracy}$, функция возвращает `True`, иначе — `False`.

### Параметры

| Имя        | Тип                          | Значение по умолчанию | Описание                                                 |
| ---------- | ---------------------------- | --------------------- | -------------------------------------------------------- |
| `point1`   | `tuple[float, float, float]` | —                     | Первая точка на прямой $(x_1, y_1, z_1)$.                |
| `point2`   | `tuple[float, float, float]` | —                     | Центральная точка, проверяемая на принадлежность прямой. |
| `point3`   | `tuple[float, float, float]` | —                     | Вторая точка на прямой $(x_3, y_3, z_3)$.                |
| `accuracy` | `float`                      | `90.0`                | Допустимый отклоняющий диапазон в градусах.              |

### Возвращаемое значение

* `True` — если угол $\angle P_1 P_2 P_3$ в пределах
  $[180^\circ - \mathit{accuracy},\; 180^\circ + \mathit{accuracy}]$.
* `False` — иначе.

### Пример использования

```python
import math
from your_module import check_on_line

# Точки: (1,0,0), (0,0,0), (-1,0,0) — лежат на одной прямой
p1 = ( 1.0, 0.0, 0.0)
p2 = ( 0.0, 0.0, 0.0)
p3 = (-1.0, 0.0, 0.0)

# Проверим с точностью ±1°
result = check_on_line(p1, p2, p3, accuracy=1.0)
print(result)  # True
```

---

— Валерия Беляева, май 2025 г.